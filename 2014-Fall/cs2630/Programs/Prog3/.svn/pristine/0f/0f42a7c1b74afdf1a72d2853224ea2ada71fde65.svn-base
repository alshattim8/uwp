#include "stdafx.h"
#include "VBotChildTwo.h"

VBotChildTwo::~VBotChildTwo()
{

}

VBotChildTwo::VBotChildTwo(int x, int y, Panel ^ panel) : VBot(x, y, panel)
{
   image = gcnew Drawing::Bitmap("bitmap2.bmp");
   dir = true;
   xDir = yDir = 1;
   dirCount = 0;
}

void VBotChildTwo::Move()
{
   if (dir)
   {
      dirCount++;
      if (dirCount % 5 == 0)
      {
         dir = !dir;
         dirCount = 0;
         this->energy--;
      }
      x += (20 * xDir);
      if (x + image->Width > panel->Width || x < 0)
      {
         xDir *= -1;
         
      }
   }
   else
   {
      dirCount++;
      if (dirCount % 5 == 0)
      {
         dir = !dir;
         dirCount = 0;
         this->energy--;
      }
      y += (20 * yDir);
      if (y + image->Height > panel->Height || y < 0)
      {
         yDir *= -1;
         
      }
   }
}

int VBotChildTwo::EnergyToFightWith()
{
   return this->energy * 2;
}